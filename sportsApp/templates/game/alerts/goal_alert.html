{% load static %}

<button class="global_btn" onclick="handleOpenGoalAlert()">asd alert</button>

<form class="custom_alert_box goal_alert_box dialog-overlay show"  id="goal-alert-box">
    <div class="size_manager dialog goal_alert">
        <div class="side side1">
            <h1 class="top_header txt-center">Goal</h1>
        <div class="icon_box">
            <!-- <img class="_img" src="{% static 'images/footbg.png' %}" alt=""> -->
             {% include 'components/jersey.html' %}
        </div>

        <div class="detail_box">
            <p class="alert-header" id="header">ADD GOAL</p>
            <!-- <p id="sub-header"></p> -->
        </div>
        </div>

          <div class="side side2">

            <div class="form-control">
                    <p>Select Goal Type</p>
                   {% for value,label in goal_type_choices %}

                   <div class="custom-radio">
                    <input type="radio" id="{{value}}" name="language" value="{{value}}" >
                    <label for="{{value}}" class="radio-label">{{label}}</label>
                </div>

                   {% endfor %}
            </div>

            <div class="form-control mt-10">
                <label for="checkbox">Add Current Time</label>
                <input type="checkbox" id="checkbox" checked>
            </div>
            <div class="form-control" id="time-input-box" style="display: none;">
                <label for="time-input">Enter Time (24 hr format)</label>
                <br>
                <input type="text" class="time" id="custom-time" name="custom-time" placeholder="HH:mm:ss">
            </div>
        <div class="button_box">
            <button class="global_btn success goal">Goal</button>
            <button class="global_btn outline" onclick="handleCloseAlerts()" type="button">Cancel</button>
        </div>
          </div>
    </div>
  </form>

  <script>
    const checkbox = document.getElementById('checkbox');
    const timeInputBox = document.getElementById('time-input-box');

    function toggleTimeInput() {
        if (checkbox.checked) {
            timeInputBox.style.display = 'none';
        } else {
            timeInputBox.style.display = 'block';
        }
    }

    // Initialize visibility on page load
    toggleTimeInput();

    // Attach event listener to toggle visibility
    checkbox.addEventListener('change', toggleTimeInput);

    const timeinput = document.getElementById('custom-time');
timeinput.addEventListener('input', function(e) {
    // Replace non-numeric characters and limit format to HH:mm:ss
    let value = e.target.value.replace(/\D/g, '');
    
    // Format input to HH:mm:ss
    if (value.length >= 3) value = value.slice(0, 2) + ':' + value.slice(2);
    if (value.length >= 6) value = value.slice(0, 5) + ':' + value.slice(5, 7);

    e.target.value = value;
});

</script>